

    
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name="robots" content="noindex,nofollow"/>
<title>Programmers sample guide, help is on the way</title>
<link rel="stylesheet" href="/resources/themes/master.css" type="text/css" />
<link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css" rel="stylesheet" type="text/css" />
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.js" type="text/javascript"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js" type="text/javascript"></script>
<script src="/resources/scripts/mysamplecode.js" type="text/javascript"></script>
<script src="./jquery.dynatable.js" type="text/javascript"></script>

<script>
$('#my-ajax-table').dynatable({
  dataset: {
    ajax: true,
    ajaxUrl: '/dynatable-ajax.json',
    ajaxOnLoad: true,
    records: []
  }
});
</script>
<script>
$(document).ready(function() {

	//Stops the submit request
	$("#myAjaxRequestForm").submit(function(e){
	       e.preventDefault();
	});
	
	//checks for the button click event
	$("#myButton").click(function(e){
	       
			//get the form data and then serialize that
	        dataString = $("#myAjaxRequestForm").serialize();
	        
	        //get the form data using another method 
	        var userRequest = $("textarea#userRequest").val(); 
	        dataString = "userRequest=" + userRequest;
	        
	        //make the AJAX request, dataType is set to json
	        //meaning we are expecting JSON data in response from the server
	        $.ajax({
		        type: "POST",
		        url: "./UserHTMLFormHandler",
		        data: dataString,
		        dataType: "json",
		        
		        //if received a response from the server
		        success: function(data){
							$('#my-final-table').dynatable({
								  dataset: {
								  alert("OK");
									response: data
								  }
								});
						}
		        },
		        
		        //If there was no resonse from the server
		        error: function(jqXHR, textStatus, errorThrown){
	 				//console.log("Something really bad happened " + textStatus);
	 				 $("#ajaxResponse").html(jqXHR.responseText);
				},
				
				//capture the request before it was sent to server
				beforeSend: function(jqXHR, settings){
					//adding some Dummy data to the request
					settings.data += "&dummyData=whatever";
					//disable the button until we get the response
					$('#myButton').attr("disabled", true);
				},
				
				//this is called after the response or error functions are finsihed
				//so that we can take some action
				complete: function(jqXHR, textStatus){
					//enable the button 
					$('#myButton').attr("disabled", false);
				}
	 
	        });         
	});

});

</script>
</head>

<body>
<div id="allContent">
<div id="myHeader">
<div id="myLogo" class="header">
</div>

<h2>
Word Counter.
</h2>
</div>	
<div id="myExample">
	<form id="myAjaxRequestForm">
		<fieldset>
			<legend>Input url by comma delimiter http://htmlbook.ru/html/input, http://stackoverflow.com/questions/2349633/servlets-doget-and-dopost, http://www.gradle.org/docs/current/release-notes</legend>
 
				<p>
					<label for="userRequest">Input url's</label><br />
					<textarea id="userRequest" name="userRequest" cols="140" rows="13"></textarea></p>
					
				</p>
				<p>
					<input id="myButton" type="button" value="Submit" />
				</p>
		</fieldset>
	</form>
	<div id="anotherSection">
		<fieldset>
			<legend>WordCounter response request(s)</legend>
 				<div id="ajaxResponse"></div>
		</fieldset>
	</div>	
</div> 
 
 <div id=""> 
 </div> 
 
</div>							
</body>
</html>